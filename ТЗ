–¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞:

–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π, –ª—ë–≥–∫–∏–π HTTP-—Å–µ—Ä–≤–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –±–∞–∑–æ–≤—ã–µ GET-–∑–∞–ø—Ä–æ—Å—ã –∏ –æ—Ç–¥–∞–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º Content-Type. –°–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–º, –±–µ–∑ –ª–∏—à–Ω–µ–π —Ö—É–π–Ω–∏, —Ç–æ–ª—å–∫–æ —è–¥—Ä–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞.
–û—Å–Ω–æ–≤–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:

    –°–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω —É–º–µ—Ç—å:

        –ü—Ä–∏–Ω–∏–º–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤ (—á–µ—Ä–µ–∑ TCP-—Å–æ–∫–µ—Ç—ã).

        –ß–∏—Ç–∞—Ç—å HTTP-–∑–∞–ø—Ä–æ—Å—ã (recv()).

        –ü–∞—Ä—Å–∏—Ç—å –º–µ—Ç–æ–¥, –ø—É—Ç—å –∏ –≤–µ—Ä—Å–∏—é HTTP.

        –û–ø—Ä–µ–¥–µ–ª—è—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ (–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π).

        –û—Ç–¥–∞–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Ñ–∞–π–ª –ø–æ –ø—É—Ç–∏, –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–º—É –∫–ª–∏–µ–Ω—Ç–æ–º.

        –í–æ–∑–≤—Ä–∞—â–∞—Ç—å 404 Not Found, –µ—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω.

        –ü–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Content-Type –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ–∞–π–ª–∞.

        –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π HTTP-–æ—Ç–≤–µ—Ç (HTTP/1.1 200 OK –∏–ª–∏ HTTP/1.1 404 Not Found).

–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:

    –¢–æ–ª—å–∫–æ GET –∑–∞–ø—Ä–æ—Å—ã.

    –ë–µ–∑ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏/–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π (–æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å ‚Äî –æ–¥–∏–Ω –æ—Ç–≤–µ—Ç).

    –ë–µ–∑ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–ª–æ–∂–Ω—ã—Ö HTTP-—Ñ–∏—á (–∫—É–∫–∏, –∫–æ–º–ø—Ä–µ—Å—Å–∏—è –∏ —Ç.–¥.).

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:

miniweb/
‚îú‚îÄ‚îÄ include/
‚îÇ   ‚îú‚îÄ‚îÄ server.h
‚îÇ   ‚îú‚îÄ‚îÄ request.h
‚îÇ   ‚îú‚îÄ‚îÄ response.h
‚îÇ   ‚îî‚îÄ‚îÄ mime.h
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ server.c
‚îÇ   ‚îú‚îÄ‚îÄ request.c
‚îÇ   ‚îú‚îÄ‚îÄ response.c
‚îÇ   ‚îú‚îÄ‚îÄ mime.c
‚îÇ   ‚îî‚îÄ‚îÄ main.c
‚îú‚îÄ‚îÄ CMakeLists.txt
‚îî‚îÄ‚îÄ README.md

–û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏:
–ú–æ–¥—É–ª—å	–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
server.c	–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞, —Ü–∏–∫–ª –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤.
request.c	–ß—Ç–µ–Ω–∏–µ –∏ –ø–∞—Ä—Å–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–∞ –∏–∑ —Å–æ–∫–µ—Ç–∞.
response.c	–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞ –∫–ª–∏–µ–Ω—Ç—É.
mime.c	–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ MIME-—Ç–∏–ø–∞ –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é —Ñ–∞–π–ª–∞.
main.c	–ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ —á–µ—Ä–µ–∑ server_init() –∏ server_loop().
–°–±–æ—Ä–∫–∞:

    –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CMake.

    –ü—Ä–æ–µ–∫—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–±–∏—Ä–∞—Ç—å—Å—è –∫–æ–º–∞–Ω–¥–æ–π:

mkdir build && cd build
cmake ..
make
./miniweb

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∫–æ–¥—É:

    –°—Ç–∏–ª—å: –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π, —á–∏—Ç–∞–µ–º—ã–π (–Ω–µ —Å—Ä–∞—Ç—å –ø–æ 300 —Å—Ç—Ä–æ–∫ –±–µ–∑ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤).

    –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–º–∏: —Ç–æ–ª—å–∫–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è, –±–µ–∑ –∫–æ–¥–∞.

    –Ø–¥—Ä–æ –ª–æ–≥–∏–∫–∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω–æ –Ω–∞ –º–æ–¥—É–ª–∏.

    –í–∞–ª–∏–¥–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –ø–∞–º—è—Ç—å—é (malloc/free —Ç–∞–º, –≥–¥–µ –Ω–∞–¥–æ).

    –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –æ—à–∏–±–æ–∫ (if (ptr == NULL), if (sockfd < 0), –∏ —Ç.–¥.).

    –ë–µ–∑ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏ (–º–æ–∂–Ω–æ –≤–∞–ª–≥—Ä–∏–Ω–¥–æ–º –ø–æ—Ç–æ–º –ø—Ä–æ–≥–Ω–∞—Ç—å –¥–ª—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏).

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ñ–∏—á–∏ –¥–ª—è MVP:

    üì° –°–µ—Ä–≤–µ—Ä —Å–ª—É—à–∞–µ—Ç –ø–æ—Ä—Ç.

    üì• –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –∏ –ø–∞—Ä—Å–∏—Ç GET-–∑–∞–ø—Ä–æ—Å—ã.

    üìÇ –û—Ç–¥–∞—ë—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã.

    ‚ùå –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404, –µ—Å–ª–∏ —Ñ–∞–π–ª–∞ –Ω–µ—Ç.

    üìÑ –ü–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Content-Type.

–ë–æ–Ω—É—Å—ã (–µ—Å–ª–∏ –∑–∞—Ö–æ—á–µ—à—å –ø—Ä–æ–∫–∞—á–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –ø–æ—Ç–æ–º):

    –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ select() –∏–ª–∏ poll().

    –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ –ø–∞–º—è—Ç–∏.

    –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Keep-Alive.

    –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª—å ([INFO], [ERROR], –∏ —Ç.–¥.).

–°—Ä–æ–∫:

    –ù–∞ –±–∞–∑–æ–≤—É—é –≤–µ—Ä—Å–∏—é (MVP) ‚Äî 7 –¥–Ω–µ–π –º–∞–∫—Å–∏–º—É–º (–µ—Å–ª–∏ –ø–∏–ª–∏—Ç—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å —Ö–æ—Ç—è –±—ã –ø–æ 1-2 —á–∞—Å–∞).

–•–æ—á–µ—à—å –µ—â—ë –≤–µ—Ä—Å–∏—é –¢–ó –≤ —Å—Ç–∏–ª–µ "–¥–ª—è –ª–µ–Ω–∏–≤—ã—Ö"? –¢–∞–º –±—ã —è –≤–æ–æ–±—â–µ –Ω–∞–ø–∏—Å–∞–ª –≤ 10 —Å—Ç—Ä–æ—á–µ–∫. üòé
–°–∫–∞–∑–∞—Ç—å?